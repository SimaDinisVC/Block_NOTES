from functions import *
from datauser import *
from GUI import *
print('::::::^^~!:..       ::::::^^~!:..       .::::::^~!:..       .:::::^^~!:..       .::::::^~!:..\n::::::^~!7^:..      ::::::^~!7^:..      .:::::^~!7^:..      .:::::^~!7^:..      .:::^^^~!7^:..      \n::::^^~!77~:..      ::::^^~!77~:..      .:::^^~!77~:..      ::::^^~!77~:..      ^?JYYYYJ?7~:..      \n::^^~~~~~^^~^:.     ::^^~~~~~^^~^:.     ::^^~~~~~^^~^:.     ::^^~~~~~^^~^:.   :?555555555J!~^:.     \n:::::::......:...   :::::::......:...   :::::::......::..   :::::::......:...^YP55555555555Y!:...   \n.   ........     ..:.   ........    ...:.   ........    ...:.   .......  .....:~Y55555555PGGG5~  ..:\n.             ..::^~.             ..::^~.             ..::^~.           ......:7P5J5555PGGGGGGG!.:^~\n..        ...::::^~!:.        ...::::^~!:.        ...::::^~!:.        ......:?GP7:.~YPGGGGGGGGGY:^~!\n:..       ::::::^^~!:..       ::::::^^~!:..       ::::::^^~!:..     ......^?GP!:..:^!PBGGGGGGGP~:^~7\n^:..      :::::^^~!7^:..      :::::^^~!7^:..      :::::^^~!7^:..  ......^JG5!...:~75BBJ7YGGGP?^:^~!7\n~^..      ::::^~!!77~^..      ::::^~~!77~^..      ::::^~!!77~^........^YG5~..:^~75BGJ!~~~7Y7^:^~~!77\n^^^:.     ::^^~~~~^^^^^:.     ::^^~~~~^^^^^:.     ::^^~~~~^^^^:.....~5GY^..:^~7P#G?~~~!!^.::^^~~~~^^\n.......   :::..............   :::..............   .::.............!5GJ^..:^~?G#P?~~~!~^.  .::.......\n       ..:.    ..         ...:.    ...        ...:.     .......:!PG?:..:^~JG#P7~~~!~^....:.     .   \n    ..::^~..           ...::^~..           ...:^^~..   ......:7PG?:..:^!JGB57~~~!~^...:^^~..        \n..:::::^~!:.        ..:::::^~!:.        ..:::::^~!:........:?GP7:..:^!YBB5!~~!!~^:.::::^~!:.        \n::::::^^~7^..       ::::::^^~7^..       ::::::^^!7:......^JGP!:..:^!YBBY!~~!!~. .:::::^^~7^..       \n:::::^^~!7^:..      :::::^^~!7^:..      :::::^^~~:.....^JG5~...:~75BBY!~~!!~.   .::::^^~!7^:..      \n:::^^~!!77~^:.      :::^^~!!7!~^:.      :::^^~^:.....^YG5~..:^~75BGJ!~~!!~:     :::^^~!!77~^:.      \n::^^^^^^^:^^^:..    ::^^^^^^^:^^^:..    ::^^^:.....~5GY^..:^~?P#G?~~~!!~^:..    ::^^^^^^^:^^^:..    \n:................   .................   .::.....:!5GJ^..:^~?G#P?~~~!~^:......   .................   \n.               ..:^.               ..::......:!PG?:..:^~JG#P7~~~!~^.       ..:^.               ..:^\n..           ..::^^~..           ..:::::....:7PG7:..:^!JGB57~~~!~:       ..::^^~..           ..::^^~\n:..       ..:::::^~!:..       ..:::::.....:?GP7:..:^!YBB5!~~~!~:      ..:::::^~!:..       ..:::::^~!\n:..       ::::::^^!7^..       :::::.....^JGP!:..:^!YBBY!~~~~~^.       ::::::^^!7^..       ::::::^~!7\n^:..      :::::^~~77^:..      ::......^JG5~...:~75BBJ!~~~~!!^:..      :::::^~~77^:..      :::::^~~!7\n~^:.      :::^^~!!!!~^:.      ......~YG5~..::~7PBGJ!~~!!!!!!~^:.      :::^^~!!!!~^:.      :::^^~!!!!\n::^::.    :^^^^^^^:::^^::.  ......~5GY^..:^~?P#G?~~~!!~^^^::::^::.    ::^^^^^^:::^^::.    ::^^^^^^::\n.......   .....................:!PGJ^..:^~?G#P?~~~!~^:.............   .................   ..........\n      ..:^.            ......:7PG?:..:^~JGBP7~~~~~^.              ..:^.               ..:^.         \n  ...::^^~..         ......:7PG7:..:^!JBB57~~~!~~~..          ...::^^~:.          ...::^^~:.        \n.::::::^~!:..      ......:?GP7:..:^!YBB5!~~~!~~^~!:..       .::::::^~!:..       .::::::^~!:..       \n::::::^~!7^..    ......^JGP!:..:^!5BBY!~~~!~^^^~!7^..       ::::::^~!7^:.       ::::::^~!7^:.       \n:::::^~!77~:.. .7~:..^YG5~...:~75BBJ!~~!!~^::^~!77~:..      .::::^~!77~:..      .::::^~!77~:..      \n:::^^~!!!!~~:.:7??7~7GY~..::~7PBGJ!~~!!^^::^~~!!!!~~:..     :::^^~!!!~~~:..     .::^^~!!!!~~:..     \n::^^^::::::::~7?777??7:.:^~?P#G?~~~!!^. ::^^^::::::::::.    ::^^^^:::::::::.    ::^^^::::::::::.    \n............:7?7777777??77G#P?~~~!~^.  ..................  ..................  ..................  .\n.          :7?777777?JY5Y557~~~!~^...:^~.              ..:^~.              ..:^~.              ..:^~\n..        .7?77777?JYYYYYYYY?!~^...::^~~:.          ..:::^~~:.          ..:::^~~:.          ..:::^^~\n:..      .7?7777?YYYYYY555Y?!::::::::^~!:..       .::::::^~!:..       .::::::^~!:..       .::::::^~!\n^:.     :?7777?YYYYYYYJ7~:    .:::::^~!7^:.       ::::::^~!7^:.       ::::::^~!7^:.       ::::::^~!7\n\~:..   ^GG5??Y55YYYJ7~:.      ::::^^~!77~:..      ::::^^~!77~:..      ::::^^~!77~:..      ::::^^~!7\n~~^:. ^GBB##GYJ?7!!~~^^:.     ::^^~~!!~~~~^:.     :::^~~!!!~~~^:.     ::^^~~!!!~~~^:.     ::^^~~!!!~\n::::.!BBBP5?!^:::::..::::..   :::::::::.:::::..   :::::::::..::::..   :::::::::..::::..   :::::::::.\n... ^Y7~:..  .......................................................................................\n    ...:^~.              ..:^~.              ..:^~.              ..:^~.              ..:^~.         \n ...:::^~~:.         ...:::^~~:.         ...:::^~~:.         ...:::^~~:.         ...:::^~~:.        ')
#####Login#####
loginmain = True
while True:
    window = LogLayout(0)
    events, values = window.read()
    if events == sg.WINDOW_CLOSED:
        exit()
    elif events == 'Create a New Account':
        window.close()
        window = LogLayout(1)
        while True:
            events, values = window.read()
            if events == sg.WIN_CLOSED:
                exit()
            elif events == 'Cancel':
                window['WRONG-UandP'].Update(visible=False)
                window['WRONG-User'].Update(visible=False)
                window['WRONG-Pass'].Update(visible=False)
                window.close()
                break
            elif events == 'OK':
                if len(values['username']) < 3 and len(values['password']) < 5:
                    window['WRONG-UandP'].Update(visible=True)
                    window['WRONG-User'].Update(visible=False)
                    window['WRONG-Pass'].Update(visible=False)
                elif len(values['username']) < 3:
                    window['WRONG-User'].Update(visible=True)
                    window['WRONG-UandP'].Update(visible=False)
                    window['WRONG-Pass'].Update(visible=False)
                elif len(values['password']) < 5:
                    window['WRONG-Pass'].Update(visible=True)
                    window['WRONG-UandP'].Update(visible=False)
                    window['WRONG-User'].Update(visible=False)
                else:
                    addNEWusr(encoder(values['username']), encoder(values['password']))
                    window.close()
                    while True:
                        window = LogLayout(2)
                        events, values = window.read()
                        if events == sg.WIN_CLOSED:
                            exit()
                        if events == "OK":
                            exit()
    elif events == 'Login with an acount':
        window.close()
        window = LogLayout(1)
        while True:
            events, values = window.read()
            if events == sg.WINDOW_CLOSED:
                exit()
            elif events == 'Cancel':
                window.close()
                break
            elif events == 'OK':
                if encoder(values['username']) in login and login.get(encoder(values['username']))[0] == encoder(values['password']):
                    loginmain = False
                else:
                    window['WRONG-UorP'].Update(visible=True)
#####Login END#####
#####Main Zone#####
